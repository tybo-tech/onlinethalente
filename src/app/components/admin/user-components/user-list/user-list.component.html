<section
  class="w-full min-h-[80vh] bg-[var(--primary)] py-12 text-[var(--white)]"
>
  <div class="max-w-6xl px-4">
    <div class="flex">
      <h1 class="text-3xl font-bold mb-6 text-[var(--accent)]">
        User Management
      </h1>
      <a
        routerLink="/admin/user/add"
        class="ml-auto px-4 py-2 bg-[var(--accent)] text-[var(--black)] rounded hover:brightness-110 h-10 flex items-center"
      >
        <i class="fas fa-plus mr-2"></i> Add User
      </a>
    </div>

    <div *ngIf="loading" class="text-[var(--gray-light)]">Loading users...</div>

    <div
      *ngIf="!loading && users.length === 0"
      class="text-[var(--gray-light)]"
    >
      No users found.
    </div>

    <div *ngIf="!loading && users.length > 0" class="overflow-x-auto">
      <table
        class="min-w-full bg-[var(--cloud)]/30 border border-[var(--cloud)] rounded-lg"
      >
        <thead
          class="bg-[var(--cloud)]/40 text-left text-[var(--gray-light)] text-sm uppercase tracking-wider"
        >
          <tr>
            <th class="py-3 px-4 border-b border-[var(--cloud)]">#</th>
            <th class="py-3 px-4 border-b border-[var(--cloud)]">Name</th>
            <th class="py-3 px-4 border-b border-[var(--cloud)]">Email</th>
            <th class="py-3 px-4 border-b border-[var(--cloud)]">Role</th>
            <th class="py-3 px-4 border-b border-[var(--cloud)]">Phone</th>
            <th class="py-3 px-4 border-b border-[var(--cloud)]">Status</th>
            <th class="py-3 px-4 border-b border-[var(--cloud)] text-right">
              Actions
            </th>
          </tr>
        </thead>
        <tbody>
          <tr
            *ngFor="let user of users; let i = index"
            class="hover:bg-[var(--cloud)]/20 transition"
          >
            <td class="py-3 px-4">{{ i + 1 }}</td>
            <td class="py-3 px-4">{{ user.name }}</td>
            <td class="py-3 px-4">{{ user.email }}</td>
            <td class="py-3 px-4 capitalize">{{ user.role }}</td>
            <td class="py-3 px-4">{{ user.phone || "-" }}</td>
            <td class="py-3 px-4">
              <span
                class="inline-block px-2 py-1 rounded-full text-xs font-semibold"
                [ngClass]="{
                  'bg-green-700 text-white': user.statusId == 1,
                  'bg-red-700 text-white': user.statusId != 1
                }"
              >
                {{ user.statusId == 1 ? "Active" : "Inactive" }}
              </span>
            </td>
            <td class="py-3 px-4 text-right space-x-2">
              <a
                [routerLink]="['/admin/user', user.id]"
                class="text-sm px-3 py-1 bg-[var(--accent)] text-[var(--black)] rounded hover:brightness-110"
              >
                Edit
              </a>
              <button
                (click)="deleteUser(user.id)"
                class="text-sm px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700"
              >
                Delete
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</section>
